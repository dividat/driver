#! /usr/bin/env node
const package = require('../package');
const packager = require('electron-packager');

packager(
    {
        platform: 'darwin,win32',
        arch: 'x64,ia32',
        icon: 'src/icons/dividat-icon',
        dir: '.',
        out: 'build',
        appCopyright: `(C) ${new Date().getFullYear()} ${package.author}`,
        win32metadata: {
            CompanyName: package.author,
            ProductName: package.productName,
            InternalName: package.productName,
            FileDescription: package.productName,
            OriginalFilename: `${package.productName}.exe`
        }
    },
    (err, appPaths) => {
        if (err) {
            console.error(`Error building Electron app: ${err.message}`);
            process.exit(1);
        }
    }
);
